<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aanbod Ocassions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/car.css" type="text/css"/>
    <script src="js/cars.js" type="text/javascript"></script>

    <link rel="stylesheet" href="css/index.css" type="text/css"/>


</head>


<body>


<header>
    <h1>Huibers Auto's </h1>
    <nav>
        <ul class="boxing" >
            <li><a href="index.html">Home</a></li>
            <li><a href="AanbodOccasions.html"> Aanbod occasions</a></li>

            <li class="dropdown">
                <button class="dropbtn">Auto functies</button>
                <div class="dropdown-content">
                    <button type="button" onclick="openFormCreateCar()"> Auto aanmaken</button>
                    <button type="button" onclick="openFormDeleteCar()"> Auto Verwijderen</button>
                    <button type="button" onclick="openFormEditCar()"> Auto Bewerken</button>
                </div>
            </li>

        </ul>
    </nav>
</header>


<!-- voor alle auto's -->
<div id="placeholder"></div>


<!--voor het aanmaken van een nieuwe auto popup scherm-->
<div class="form-popup" id="createCar">
    <form class="car-forms" id="POSTcar">
        <h4>Create new Car:</h4>
        <label for="name">naam:</label>
        <input type="text" id="name" name="name" required/>

        <label for="brand">merk:</label>
        <input type="text" id="brand" name="brand" required/>

        <label for="model">model:</label>
        <input type="text" id="model" name="model" required/>

        <label for="kilometre">km-stand:</label>
        <input type="number" id="kilometre" name="kilometre" required/>

        <label for="yearOfManufacture">bouwjaar:</label>
        <input type="number" id="yearOfManufacture" name="yearOfManufacture" required/>

        <label for="price">prijs:</label>
        <input class="input" type="number" id="price" name="price" required/>

        <label for="fuelType">brandstof:</label>
        <input type="text" id="fuelType" name="fuelType" required/>

        <label for="licencePlate">kenteken:</label>
        <input type="text" id="licencePlate" name="licencePlate" required/>

        <label for="imageUrl">foto:</label>
        <input type="text" id="imageUrl" name="imageUrl" required/> <br><br>

        <input type="submit" onclick="createCar()" value="maak aan"/>
        <input type="button" onclick="closeCreateCar()" value="sluit"/>

    </form>
</div>


<!--het verwijderen van een auto-->
<div class="form-popup" id="deleteCar">
    <form class="car-forms" id="deleteCarFormData">
        <h4>Delete Car:</h4>
        <label for="kenteken">kenteken:</label> <br>
        <input type="text" id="kenteken" name="licencePlate" required/> <br><br>
        <input type="button" id="verwerk" onclick="deleteCar()" value="verwijder"/>
        <input type="button" onclick="closeDeleteCar()" value="sluit"/>
    </form>
</div>

<!-- editten van een auto-->
<div class="form-popup" id="editCar">
<form  class="car-forms" id="PATCHCars">
    <h4>edit Car:</h4>
    <label for="licencePlateFound">Bestaand kenteken:</label>
    <input type="text" id="licencePlateFound"  name="licencePlateFound"/>

    <label for="licencePlateChange">Bewerk kenteken:</label>
    <input type="text" id="licencePlateChange"  name="licencePlateChange"/>

    <label  for="nameEdit">naam:</label>
    <input type="text" id="nameEdit" name="nameEdit"/>

    <label for="brandEdit">merk:</label>
    <input type="text" id="brandEdit" name="brandEdit"/>

    <label for="modelEdit">model:</label>
    <input type="text" id="modelEdit" name="modelEdit"/>

    <label for="kilometreEdit">km-stand:</label>
    <input type="number" id="kilometreEdit" name="kilometreEdit"/>

    <label for="yearOfManufactureEdit">bouwjaar:</label>
    <input type="number" id="yearOfManufactureEdit" name="yearOfManufactureEdit"/>

    <label for="priceEdit">prijs:</label>
    <input class="input" type="number" id="priceEdit" name="priceEdit"/>

    <label for="fuelTypeEdit">brandstof:</label>
    <input type="text" id="fuelTypeEdit" name="fuelTypeEdit"/>

    <label for="imageUrlEdit">foto:</label>
    <input type="text" id="imageUrlEdit" name="imageUrlEdit"/> <br><br>

    <input type="button" onclick="updateCar()" value="edit"/>
    <input type="button" onclick="closeEditCar()" value="sluit"/>

</form>
</div>









<script>
    let carData;
    fetch("restservices/cars", {method: 'GET'})
        .then(response => response.json())
        .then(function (myJson) {
            carData = myJson;
            console.log(myJson);

            document.getElementById("placeholder").innerHTML = `

<H2 class="app-title"> Auto's (${carData.length} resultaten) </H2>
${carData.map(carTemplate).join('')}
<p class="footer">Deze ${carData.length} Auto's zijn recent toegevoegd. Check later voor updates  </p>

`
        });
</script>


</body>
</html>
